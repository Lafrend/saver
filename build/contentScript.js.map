{"version":3,"file":"contentScript.js","mappings":";;;;;;;AAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,oCAAoC;AACpC,OAAO;AACP;AACA;AACA;AACA;AACA,CAAC,E","sources":["webpack://saver/./src/contentScript.js"],"sourcesContent":["\"use strict\";\r\n\r\n// Обработчик сообщений от фонового скрипта\r\nchrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {\r\n  if (request.command === \"getSelectedText\") {\r\n    // Получаем выделенный текст и отправляем его в фоновый скрипт\r\n    const selectedText = window.getSelection().toString().trim();\r\n    chrome.runtime.sendMessage({\r\n      command: \"saveItem\",\r\n      selectedText: selectedText,\r\n    });\r\n  } else if (request.command === \"processImage\" && request.imageUrl) {\r\n    // Выполняем запрос на изображение\r\n    fetch(request.imageUrl)\r\n      .then((response) => response.blob()) // Получаем Blob из ответа\r\n      .then((blob) => {\r\n        // Теперь у вас есть объект Blob, который представляет изображение\r\n        // Можете использовать его, например, для преобразования в Data URL\r\n        const reader = new FileReader();\r\n        reader.onloadend = function () {\r\n          const imageDataUrl = reader.result;\r\n          // Дальнейшая обработка данных изображения\r\n          console.log(\"data:\", imageDataUrl);\r\n          // Отправляем текст в background.js\r\n          chrome.runtime.sendMessage({\r\n            command: \"imageProcessed\",\r\n            formattedText: imageDataUrl,\r\n          });\r\n        };\r\n        reader.readAsDataURL(blob); // Преобразование Blob в Data URL\r\n      })\r\n      .catch((error) =>\r\n        console.error(\"Ошибка при получении изображения:\", error)\r\n      );\r\n  }\r\n});"],"names":[],"sourceRoot":""}