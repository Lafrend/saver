{"version":3,"file":"popup.js","mappings":";;;;;;;;;AAAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;ACNa;AACb;AACqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,UAAU;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,0BAA0B;AAC/D;AACA;AACA,WAAW;AACX,SAAS,QAAQ;AACjB,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,0BAA0B;AAC3D;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,mBAAmB,KAAK;AAC9D;AACA,SAAS,+BAA+B,IAAI,4BAA4B;AACxE;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,2CAA2C;AACnD,QAAQ,wCAAwC;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,0BAA0B;AACzD;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC","sources":["webpack://saver/./src/popup.css","webpack://saver/webpack/bootstrap","webpack://saver/webpack/runtime/compat get default export","webpack://saver/webpack/runtime/define property getters","webpack://saver/webpack/runtime/hasOwnProperty shorthand","webpack://saver/webpack/runtime/make namespace object","webpack://saver/./src/popup.js"],"sourcesContent":["// extracted by mini-css-extract-plugin","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\"use strict\";\r\n\r\nimport \"./popup.css\";\r\n\r\nconsole.log(\"This is a popup!\");\r\n\r\nconst listOfItems = document.getElementById(\"listOfItems\");\r\nconst clearAllButton = document.getElementById(\"clearAllButton\");\r\nconst createItemButton = document.getElementById(\"createItemButton\");\r\nconst refreshButton = document.getElementById(\"refreshButton\");\r\nconst sendMessage = document.getElementById(\"sendMessage\");\r\n\r\nconst loadingDiv = document.createElement(\"div\");\r\nconst loadingSpan = document.createElement(\"span\");\r\nconst backgroundDiv = document.createElement(\"div\");\r\nbackgroundDiv.className = \"background-div\";\r\nloadingDiv.className = \"loading-div\";\r\nloadingSpan.textContent = \"Loading...\";\r\nloadingDiv.appendChild(loadingSpan);\r\nconsole.log(\"show loading items\");\r\ndocument.body.appendChild(loadingDiv);\r\ndocument.body.appendChild(backgroundDiv);\r\n\r\n// Load stored data on extension open\r\nchrome.storage.local.get(\"yourItemList\", function (data) {\r\n  console.log(\"loading stoared items\");\r\n  const storedItemList = data.yourItemList || [];\r\n  displayItems(storedItemList);\r\n});\r\n\r\nwindow.addEventListener(\"load\", (event) => {\r\n  console.log(\"removing loading items\");\r\n  loadingDiv.remove();\r\n  backgroundDiv.remove();\r\n});\r\n\r\nfunction displayItems(itemListData) {\r\n  console.log(\"displaying loaded items\");\r\n  listOfItems.innerHTML = \"\";\r\n  itemListData.forEach(function (item) {\r\n    addNewItem(item);\r\n  });\r\n}\r\n\r\nfunction addNewItem(item) {\r\n  console.log(\"prepare to adding item to interface...\", item);\r\n  const div = document.createElement(\"div\");\r\n  div.className = \"info-item\";\r\n\r\n  let itemContent = recognitionItems(item);\r\n\r\n  const editButton = createButtons(\"Edit\", \"edit-button\", () =>\r\n    editItem(item, itemContent)\r\n  );\r\n  const deleteButton = createButtons(\"Delete\", \"delete-button\", () =>\r\n    deleteItem(item.createdAt)\r\n  );\r\n\r\n  // Set data-createdAt attribute to the createdAt value\r\n  div.dataset.createdAt = item.createdAt;\r\n\r\n  div.appendChild(itemContent);\r\n  div.appendChild(editButton);\r\n  div.appendChild(deleteButton);\r\n  listOfItems.insertBefore(div, listOfItems.firstChild);\r\n}\r\n\r\n// Function to create a button with a specific label and click handler\r\nfunction createButtons(label, className, clickHandler) {\r\n  const button = document.createElement(\"button\");\r\n  button.className = className;\r\n  button.innerText = label;\r\n  button.type = \"button\";\r\n  button.addEventListener(\"click\", clickHandler);\r\n  return button;\r\n}\r\n\r\nfunction deleteItem(createdAt) {\r\n  console.log(\"prepare to delete item with createdAt:\", createdAt);\r\n  chrome.storage.local.get(\"yourItemList\", function (data) {\r\n    const storedList = data.yourItemList || [];\r\n\r\n    const indexToRemove = storedList.findIndex(\r\n      (item) => item.createdAt === createdAt\r\n    );\r\n\r\n    if (indexToRemove !== -1) {\r\n      const itemToRemove = document.querySelector(\r\n        `[data-created-at=\"${createdAt}\"]`\r\n      );\r\n\r\n      if (itemToRemove) {\r\n        // Добавляем класс с анимацией перед удалением\r\n        itemToRemove.classList.add(\"slide-out\");\r\n\r\n        // Ждем завершения анимации, затем удаляем из интерфейса и обновляем хранилище\r\n        setTimeout(() => {\r\n          itemToRemove.remove();\r\n\r\n          storedList.splice(indexToRemove, 1);\r\n          chrome.storage.local.set({ yourItemList: storedList }, function () {\r\n            createAnimatedElement(\"Item deleted successfully\");\r\n            console.log(\"Item deleted successfully with createdAt:\", createdAt);\r\n          });\r\n        }, 500); // 500 миллисекунд – время анимации\r\n      } else {\r\n        createAnimatedElement(\"something went wrong during deleting item\");\r\n        console.error(\r\n          \"something went wrong during deleting item with createdAt:\",\r\n          createdAt\r\n        );\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\n// Function to handle item editing\r\nfunction editItem(item, content) {\r\n  console.log(\"prepare to edit item:\", item);\r\n  const textarea = createTextArea(item.itemData);\r\n  const confirmButton = createButtons(\"Confirm\", \"confirm-button\", () =>\r\n    confirmEdit(item, content, textarea)\r\n  );\r\n  const cancelButton = createButtons(\"Cancel\", \"cancel-button\", () =>\r\n    cancelEdit(item, content, textarea)\r\n  );\r\n\r\n  // Remove the existing buttons\r\n  const div = content.parentElement;\r\n  const editButton = div.querySelector(\".edit-button\");\r\n  const deleteButton = div.querySelector(\".delete-button\");\r\n  if (editButton) editButton.remove();\r\n  if (deleteButton) deleteButton.remove();\r\n\r\n  content.replaceWith(textarea);\r\n\r\n  // Append buttons to the list item\r\n  div.appendChild(confirmButton);\r\n  div.appendChild(cancelButton);\r\n\r\n  textarea.focus();\r\n\r\n  console.log(\"editing item....\", item);\r\n}\r\n\r\nfunction createTextArea(content) {\r\n  const textarea = document.createElement(\"textarea\");\r\n  textarea.value = content;\r\n\r\n  // Используем событие 'input' для динамического изменения высоты при вводе\r\n  textarea.addEventListener(\"input\", function () {\r\n    textarea.style.height = \"auto\";\r\n    textarea.style.height = textarea.scrollHeight + \"px\";\r\n  });\r\n  // Используем событие 'focus' для корректного изменения высоты при редактировании\r\n  textarea.addEventListener(\"focus\", function () {\r\n    textarea.style.height = \"auto\";\r\n    textarea.style.height = textarea.scrollHeight + \"px\";\r\n  });\r\n\r\n  return textarea;\r\n}\r\n\r\n\r\nfunction confirmEdit(item, content, textarea) {\r\n  console.log(\"prepare to confirm editing item:\", item);\r\n  item.itemData = textarea.value;\r\n\r\n  // Update content in local storage\r\n  updateLocalStorage(item);\r\n\r\n  let newElement = recognitionItems(item);\r\n\r\n  // Replace the textarea with the new element\r\n  const div = textarea.parentElement;\r\n\r\n  if (div) {\r\n    const index = Array.from(div.parentElement.children).indexOf(div);\r\n\r\n    if (index !== -1) {\r\n      div.replaceChild(newElement, textarea);\r\n      console.log(\"editing blank replaced with new element\");\r\n\r\n      // Remove confirm and cancel buttons\r\n      const confirmButton = div.querySelector(\".confirm-button\");\r\n      const cancelButton = div.querySelector(\".cancel-button\");\r\n      if (confirmButton) confirmButton.remove();\r\n      if (cancelButton) cancelButton.remove();\r\n\r\n      // Restore edit and delete buttons\r\n      const editButton = createButtons(\"Edit\", \"edit-button\", () =>\r\n        editItem(item, newElement)\r\n      );\r\n      const deleteButton = createButtons(\"Delete\", \"delete-button\", () =>\r\n        deleteItem(item.createdAt)\r\n      );\r\n      div.appendChild(editButton);\r\n      div.appendChild(deleteButton);\r\n    }\r\n  }\r\n}\r\n\r\nfunction recognitionItems(item) {\r\n  // Create a new element based on the item type\r\n  let newElement = document.createElement(\"div\");\r\n\r\n  if (item.itemData) {\r\n    createTextWithImageElement(newElement, item.itemData);\r\n  } else {\r\n    createEmptyElement(newElement);\r\n  }\r\n\r\n  return newElement;\r\n}\r\n\r\nfunction createTextWithImageElement(parent, text) {\r\n  console.log(\"replacing editing blank with custom...\", text);\r\n  let remainingText = text;\r\n\r\n  while (remainingText) {\r\n    const urlMatch = remainingText.match(/https:\\/\\/[^ ]+/);\r\n\r\n    if (urlMatch) {\r\n      const textBefore = remainingText.substring(0, urlMatch.index);\r\n      if (textBefore) {\r\n        const textElement = document.createElement(\"span\");\r\n        textElement.appendChild(document.createTextNode(textBefore));\r\n        parent.appendChild(textElement);\r\n      }\r\n\r\n      const element = urlMatch[0].match(/\\.(png|jpeg|jpg|webp)$/i)\r\n        ? createImageElement(urlMatch[0])\r\n        : createLinkElement(urlMatch[0]);\r\n\r\n      parent.appendChild(element);\r\n\r\n      remainingText = remainingText.substring(urlMatch.index + urlMatch[0].length);\r\n    } else {\r\n      const textElement = document.createElement(\"span\");\r\n      textElement.appendChild(document.createTextNode(remainingText));\r\n      parent.appendChild(textElement);\r\n      remainingText = \"\";\r\n    }\r\n  }\r\n}\r\n\r\nfunction createImageElement(imageUrl) {\r\n  console.log(\"replacing editing blank with img...\", imageUrl);\r\n  const imgElement = document.createElement(\"img\");\r\n  imgElement.src = imageUrl;\r\n  imgElement.addEventListener(\"click\", function () {\r\n    window.open(imageUrl, \"_blank\");\r\n  });\r\n  imgElement.style.cursor = \"pointer\";\r\n  return imgElement;\r\n}\r\n\r\nfunction createLinkElement(linkUrl) {\r\n  console.log(\"replacing editing blank with link...\", linkUrl);\r\n  const linkElement = document.createElement(\"a\");\r\n  linkElement.href = linkUrl;\r\n  linkElement.target = \"_blank\";\r\n  linkElement.textContent = linkUrl;\r\n  return linkElement;\r\n}\r\n\r\n\r\nfunction createEmptyElement(parentElement) {\r\n  createAnimatedElement(\"Invalid item type\");\r\n  console.error(\"Invalid item type\");\r\n  const empty = document.createElement(\"span\");\r\n  empty.appendChild(document.createTextNode(\"Empty.\"));\r\n  parentElement.appendChild(empty);\r\n}\r\n\r\nfunction cancelEdit(item, content, textarea) {\r\n  console.log(\"prepare to cancel editing item:\", item);\r\n  // Replace the textarea with the original span\r\n  const div = textarea.parentElement;\r\n\r\n  if (div) {\r\n    const index = Array.from(div.parentElement.children).indexOf(div);\r\n\r\n    if (index !== -1) {\r\n      div.replaceChild(content, textarea);\r\n      console.log(\"editing canceled\");\r\n\r\n      // Remove confirm and cancel buttons\r\n      const confirmButton = div.querySelector(\".confirm-button\");\r\n      const cancelButton = div.querySelector(\".cancel-button\");\r\n      if (confirmButton) confirmButton.remove();\r\n      if (cancelButton) cancelButton.remove();\r\n\r\n      // Restore edit and delete buttons\r\n      const editButton = createButtons(\"Edit\", \"edit-button\", () =>\r\n        editItem(item, content)\r\n      );\r\n      const deleteButton = createButtons(\"Delete\", \"delete-button\", () =>\r\n        deleteItem(item.createdAt)\r\n      );\r\n      div.appendChild(editButton);\r\n      div.appendChild(deleteButton);\r\n    } else {\r\n      createAnimatedElement(\"something went wrong during canceling editing\");\r\n      console.error(\"something went wrong during canceling editing\", item);\r\n    }\r\n  }\r\n}\r\n\r\nfunction updateLocalStorage(item) {\r\n  console.log(\"prepare to update local storage with item:\", item);\r\n  chrome.storage.local.get(\"yourItemList\", function (data) {\r\n    const storedList = data.yourItemList || [];\r\n\r\n    // Find the index of the item in local storage\r\n    const index = storedList.findIndex(\r\n      (storedItem) => storedItem.createdAt === item.createdAt\r\n    );\r\n\r\n    if (index !== -1) {\r\n      // Update the item's content\r\n      storedList[index].itemData = item.itemData;\r\n      console.log(\r\n        \"item in stored storage replaced with new item content\",\r\n        item\r\n      );\r\n\r\n      // Save the updated list to local storage\r\n      chrome.storage.local.set({ yourItemList: storedList }, function () {\r\n        console.log(\r\n          \"item in local storage replaced with new item content\",\r\n          item\r\n        );\r\n      });\r\n    } else {\r\n      createAnimatedElement(\r\n        \"something went wrong during updating local storage\"\r\n      );\r\n      console.error(\"something went wrong during updating local storage\");\r\n    }\r\n  });\r\n}\r\n\r\nlet activeItem = null;\r\n\r\nfunction createNewItemWithInput() {\r\n  console.log(\"creating new custom item\");\r\n  // Если уже есть активный элемент, удаляем его\r\n  if (activeItem) {\r\n    activeItem.remove();\r\n    activeItem = null;\r\n  }\r\n\r\n  const textArea = createTextArea(\"\");\r\n\r\n  const div = document.createElement(\"div\");\r\n  div.className = \"info-item\";\r\n\r\n  textArea.placeholder = \"Введите текст...\";\r\n  div.appendChild(textArea);\r\n\r\n  const confirmButton = createButtons(\"Confirm\", \"confirm-button\", function () {\r\n    console.log(\"confirmin creating new custom item...\");\r\n    const text = textArea.value.trim();\r\n    if (text !== \"\") {\r\n      // Обработка текста и фрагментов изображений\r\n      const newItem = {\r\n        itemType: \"custom\",\r\n        itemData: text,\r\n        createdAt: new Date().getTime(),\r\n      };\r\n      if (newItem) {\r\n        console.log(\"saving new custom item...\");\r\n        saveNewItem(newItem);\r\n      } else {\r\n        createAnimatedElement(\r\n          \"something went wrong during saving new custom item\"\r\n        );\r\n        console.error(\"something went wrong during saving new custom item\");\r\n      }\r\n      div.remove();\r\n      // Add the new item to the interface\r\n      if (newItem) {\r\n        console.log(\"adding new custom item to the interface...\");\r\n        addNewItem(newItem);\r\n      } else {\r\n        createAnimatedElement(\r\n          \"something went wrong during adding new custom item to interface\"\r\n        );\r\n        console.error(\r\n          \"something went wrong during adding new custom item to interface\"\r\n        );\r\n      }\r\n    } else {\r\n      createAnimatedElement(\"Новый элемент не может быть пустым!\");\r\n    }\r\n  });\r\n  div.appendChild(confirmButton);\r\n\r\n  const cancelButton = createButtons(\"Cancel\", \"cancel-button\", function () {\r\n    div.remove();\r\n  });\r\n  div.appendChild(cancelButton);\r\n\r\n  // Add the new item to the interface\r\n  listOfItems.insertBefore(div, listOfItems.firstChild);\r\n\r\n  // Set the new active item\r\n  activeItem = div;\r\n\r\n  // Set focus on the input field when creating a new item\r\n  textArea.focus();\r\n}\r\n\r\nfunction createAnimatedElement(text, bgColor) {\r\n  const existingElements = document.querySelectorAll(\".animated-element\");\r\n\r\n  existingElements.forEach((existingElement) => {\r\n    const currentBottom = parseFloat(existingElement.style.bottom);\r\n    existingElement.style.bottom = `${currentBottom + 45}px`; // Увеличиваем расстояние между элементами\r\n    existingElement.animate(\r\n      [{ transform: \"translateY(100%)\" }, { transform: \"translateY(0)\" }],\r\n      {\r\n        duration: 150,\r\n        easing: \"ease-out\",\r\n        fill: \"forwards\",\r\n      }\r\n    );\r\n  });\r\n\r\n  // Создаем новый элемент\r\n  const element = document.createElement(\"div\");\r\n  element.className = \"animated-element\";\r\n  element.style.background = bgColor || \"#db3232\";\r\n  element.style.bottom = \"45px\";\r\n\r\n  const span = document.createElement(\"span\");\r\n  span.textContent = text || \"UwU\";\r\n  span.style.display = \"flex\";\r\n  span.style.alignItems = \"center\";\r\n  span.style.justifyContent = \"center\";\r\n  span.style.width = \"100%\"; // Заполняем всю ширину span для выравнивания текста\r\n\r\n  element.appendChild(span);\r\n  document.body.appendChild(element);\r\n\r\n  const textWidth = span.offsetWidth;\r\n\r\n  if (textWidth > parseInt(element.style.width)) {\r\n    // Если ширина текста больше ширины элемента, увеличиваем ширину элемента\r\n    element.style.width = textWidth + \"px\";\r\n  }\r\n\r\n  /// Добавляем анимацию\r\n  element.animate(\r\n    [\r\n      { transform: \"translateY(100%)\", opacity: 0 },\r\n      { transform: \"translateY(0)\", opacity: 1 },\r\n    ],\r\n    {\r\n      duration: 150,\r\n      easing: \"ease-out\",\r\n      fill: \"forwards\",\r\n    }\r\n  );\r\n\r\n  // Удаляем элемент через 2.5 секунды\r\n  setTimeout(() => {\r\n    element.remove();\r\n  }, 2500);\r\n}\r\n\r\nfunction saveNewItem(item) {\r\n  chrome.storage.local.get(\"yourItemList\", function (data) {\r\n    const storedList = data.yourItemList || [];\r\n\r\n    storedList.push(item);\r\n\r\n    chrome.storage.local.set({ yourItemList: storedList }, function () {\r\n      console.log(\"Item saved successfully:\", item);\r\n    });\r\n  });\r\n}\r\n\r\nclearAllButton.addEventListener(\"click\", clearItemList);\r\ncreateItemButton.addEventListener(\"click\", createNewItemWithInput);\r\nsendMessage.addEventListener(\"click\", () =>\r\n  createAnimatedElement(\"Проверка-проверка!!\")\r\n);\r\n\r\nfunction clearItemList() {\r\n  listOfItems.innerHTML = \"\";\r\n  chrome.storage.local.remove(\"yourItemList\");\r\n}\r\n\r\nrefreshButton.addEventListener(\"click\", function () {\r\n  chrome.storage.local.get(\"yourItemList\", function (data) {\r\n    const storedItemList = data.yourItemList || [];\r\n    displayItems(storedItemList);\r\n  });\r\n});\r\n"],"names":[],"sourceRoot":""}